<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tamagotchi!</title>
	<style>
		.payAttention {display: none;}
	</style>
</head>
<body>
	<!-- I'm a comment -->
	<main>
		<a href="http://members.tripod.com/~Tamagotchi_Central/instructions.html">instructions</a>
		<div class="gotchi">happy</div>
		<div class="value">--</div>
		<button class="mode">mode</button><button class="myAction">Action</button><button class="stop">stop</button>
		<div class="payAttention">pay attention to me</div>
		<noscript>You must have javascript enabled.</noscript>
	</main>

	<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
  <script>
	
	/* the mode button should cycle through these:
	feed
	light
	flush "duck"
	health meter (age, weight, discipline, hunger, and happiness)
	play
	medicine
	attention
	discipline
*/

// array for tamagochi features
const modeArray = ['feed', 'light', 'flush', 'health meter', 'play', 'medicine', 'attention', 'discipline']

let counter = 0;

// iterate through tamagochi features
$('.mode').click(function(){
	counter = (counter + 1) % modeArray.length;
	$('.gotchi').text(modeArray[counter])
	
	let modeVal = $('main').find('.gotchi').text();
	console.log('mode value = ' + modeVal)

	// display the value of each mode
	if(modeVal == 'feed'){
		$('.value').text('hungry');
	} else if (modeVal == 'light'){
		$('.value').text('one');
	} else if  (modeVal == 'flush'){
		$('.value').text('one poop');
	} else if  (modeVal == 'health meter'){
		$('.value').text('four');
	} else if  (modeVal == 'play'){
		$('.value').text('three');
	} else {
		$('.value').text('---');
	}
	return modeVal
})

// getting a random number to use for timing
function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  let randNum = Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive
  console.log(randNum)
  return randNum
}


function takeAction(modeVal){
	$('.myAction').click(function(){
		console.log(modeVal)
		if(modeVal == 'feed'){
			$('.payAttention').text('yum, thank you!')
		} else if(modeVal == 'flush'){
			$('.payAttention').text('all clean!')
		}
	})
}


var foodTime;

function feedMe(randNum) {
  foodTime = setTimeout(hungryAlert, randNum);
}
function hungryAlert() {
  $('.payAttention').css('display', 'block')
  $('.payAttention').text('feed me!')
}

var petTime;

function petMe(randNum) {
  petTime = setTimeout(petAlert, randNum);
}
function petAlert() {
  $('.payAttention').css('display', 'block')
  $('.payAttention').text('pet me!')
}

petMe(getRandomInt(1000, 3000))

feedMe(getRandomInt(1000, 3000))
takeAction()

</script>
</body>
</html>